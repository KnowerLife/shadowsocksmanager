# Shadowsocks Manager

## Описание

**Shadowsocks Manager** — это современное приложение для macOS, предназначенное для удобного управления подключениями Shadowsocks. Программа предоставляет интуитивно понятный интерфейс для настройки, мониторинга и оптимизации Shadowsocks-серверов, обеспечивая безопасное и быстрое соединение. Поддерживает множество функций, включая тестирование пинга, измерение скорости, автоматический выбор оптимального сервера и управление несколькими конфигурациями серверов.

Проект разработан на Swift с использованием SwiftUI и интегрирован с macOS для обеспечения высокой производительности и безопасности. Пароли хранятся в Keychain, а конфигурации серверов сохраняются в формате JSON. Приложение также поддерживает импорт серверов через подписку и бесплатные ноды, а также экспорт/импорт конфигураций.

## Основные функции

- **Управление серверами**: Добавление, редактирование, удаление и выбор активного сервера.
- **Тестирование соединения**: Пинг и тест скорости для каждого сервера.
- **Автоматический выбор сервера**: Выбор оптимального сервера на основе пинга и скорости.
- **Мониторинг трафика**: Отображение скорости загрузки/выгрузки и общего трафика в реальном времени.
- **Поддержка системного прокси**: Настройка глобального или PAC-режима прокси.
- **QR-код конфигурации**: Генерация QR-кодов для удобного обмена конфигурациями серверов.
- **Безопасное хранение паролей**: Использование Keychain для хранения паролей серверов.
- **Импорт/экспорт**: Импорт серверов из подписки или JSON-файлов, экспорт конфигураций.
- **Уведомления**: Системные уведомления о статусе подключения и ошибках.
- **Интеграция с менюбаром**: Быстрый доступ к основным функциям через статусную строку macOS.

## Требования

- macOS 12.0 или новее
- Установленный Homebrew (для автоматической установки Shadowsocks, если требуется)
- Доступ к интернету для импорта подписок и бесплатных нод

## Установка

1. **Склонируйте репозиторий**:
   ```bash
   git clone https://github.com/KnowerLife/ShadowsocksManager.git
   ```

2. **Откройте проект в Xcode**:
   - Убедитесь, что у вас установлена последняя версия Xcode.
   - Откройте файл `ShadowsocksManager.xcodeproj`.

3. **Соберите и запустите проект**:
   - Выберите цель `ShadowSocksManagerApp` и устройство (например, ваш Mac).
   - Нажмите `Build and Run` в Xcode.

4. **Установка Shadowsocks (если требуется)**:
   - Если Shadowsocks (`ss-local`) не установлен, приложение автоматически предложит установить его через Homebrew.
   - Для ручной установки выполните:
     ```bash
     brew install shadowsocks-libev
     ```

## Использование

1. **Запуск приложения**:
   - После запуска приложение появится в менюбаре macOS.
   - Откройте главное окно, щелкнув по иконке в менюбаре.

2. **Добавление сервера**:
   - Перейдите в раздел "Серверы" и нажмите "Добавить сервер".
   - Введите данные сервера (имя, адрес, порт, пароль, метод шифрования).

3. **Подключение**:
   - Выберите сервер и нажмите "Запустить" для установления соединения.
   - Приложение поддерживает глобальный прокси или PAC-режим.

4. **Тестирование серверов**:
   - Используйте кнопки "Пинг" или "Тест скорости" для проверки производительности.
   - Нажмите "Тест всех" для массового тестирования всех серверов.
   - Кнопка "Автовыбор" выберет сервер с оптимальным сочетанием пинга и скорости.

5. **Импорт/экспорт**:
   - Импортируйте серверы из подписки, указав URL, или из JSON-файла.
   - Экспортируйте текущие конфигурации серверов в JSON-файл.

6. **Логи и настройки**:
   - Просматривайте логи в разделе "Логи" для диагностики.
   - Настройте параметры автозапуска и уровня логов в разделе "Настройки".

## Структура проекта
- **`ShadowsocksManager.swift`**: Основной менеджер для управления подключениями, тестированием и конфигурацией.
- **`ContentView.swift`**: Главное представление приложения с интерфейсом управления.

## Зависимости

- **SwiftUI**: Для построения пользовательского интерфейса.
- **Combine**: Для реактивного управления состоянием.
- **Network**: Для мониторинга сетевых соединений.
- **CoreImage**: Для генерации QR-кодов.
- **Security**: Для работы с Keychain.
- **ServiceManagement**: Для настройки автозапуска.
- **UserNotifications**: Для системных уведомлений.
- **Charts**: Для отображения графиков скорости.

## Лицензия

Проект распространяется под лицензией MIT. Подробности см. в файле `LICENSE`.

## Контакты

- **GitHub**: [KnowerLife](https://github.com/KnowerLife)
- **Поддержка**: [Создать issue](https://github.com/KnowerLife/shadowsocksmanager/issues)
