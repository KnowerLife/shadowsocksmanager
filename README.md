# Shadowsocks Manager

![macOS](https://img.shields.io/badge/macOS-12.0%2B-blue)
![Swift](https://img.shields.io/badge/Swift-5.5-orange)
![Лицензия](https://img.shields.io/badge/Лицензия-MIT-green)

![Shadowsocks Manager](https://raw.githubusercontent.com/KnowerLife/shadowsocksmanager/main/shadowsocksmanager.png)

**Shadowsocks Manager** — это современное приложение для macOS, предназначенное для удобного управления подключениями Shadowsocks. Разработано с использованием Swift и SwiftUI, оно предлагает интуитивно понятный интерфейс для настройки, мониторинга и оптимизации серверов Shadowsocks, обеспечивая безопасное и быстрое соединение.

## Основные функции

- **Управление серверами**: Добавление, редактирование, удаление и выбор активного сервера.
- **Тестирование соединения**: Измерение пинга и скорости для каждого сервера.
- **Автоматический выбор сервера**: Выбор оптимального сервера на основе пинга и скорости.
- **Мониторинг трафика**: Отображение скорости загрузки/выгрузки и общего трафика в реальном времени с графиками.
- **Поддержка системного прокси**: Настройка глобального или PAC-режима прокси.
- **Генерация QR-кодов**: Создание QR-кодов для удобного обмена конфигурациями серверов.
- **Безопасное хранение паролей**: Хранение паролей серверов в Keychain macOS.
- **Импорт/экспорт**: Импорт серверов из подписок или JSON-файлов, экспорт конфигураций.
- **Уведомления**: Системные уведомления о статусе подключения и ошибках.
- **Интеграция с менюбаром**: Быстрый доступ к основным функциям через статусную строку macOS.

## Требования

- macOS 12.0 или новее
- Установленный Homebrew (для автоматической установки Shadowsocks, если требуется)
- Доступ к интернету для импорта подписок и бесплатных нод

## Установка

1. **Склонируйте репозиторий**:
   ```bash
   git clone https://github.com/KnowerLife/shadowsocksmanager.git
   ```

2. **Установка Shadowsocks (если требуется)**:
   - Если Shadowsocks (`ss-local`) не установлен, приложение автоматически предложит установить его через Homebrew.
   - Для ручной установки выполните:
     ```bash
     brew install shadowsocks-libev
     ```

3. **Сборка и запуск**:
   - Откройте проект в Xcode.
   - Соберите и запустите приложение (`Command + R`).

## Использование

1. **Запуск приложения**:
   - После запуска приложение появится в менюбаре macOS.
   - Откройте главное окно, щелкнув по иконке в менюбаре.

2. **Добавление сервера**:
   - Перейдите в раздел "Серверы" и нажмите "Добавить сервер".
   - Введите данные сервера (имя, адрес, порт, пароль, метод шифрования).

3. **Подключение**:
   - Выберите сервер и нажмите "Запустить" для установления соединения.
   - Приложение поддерживает глобальный прокси или PAC-режим.

4. **Тестирование серверов**:
   - Используйте кнопки "Пинг" или "Тест скорости" для проверки производительности.
   - Нажмите "Тест всех" для массового тестирования всех серверов.
   - Кнопка "Автовыбор" выберет сервер с оптимальным сочетанием пинга и скорости.

5. **Импорт/экспорт**:
   - Импортируйте серверы из подписки, указав URL, или из JSON-файла.
   - Экспортируйте текущие конфигурации серверов в JSON-файл.

6. **Логи и настройки**:
   - Просматривайте логи в разделе "Логи" для диагностики.
   - Настройте параметры автозапуска и уровня логов в разделе "Настройки".

## Зависимости

- **SwiftUI**: Для построения пользовательского интерфейса.
- **Combine**: Для реактивного управления состоянием.
- **Network**: Для мониторинга сетевых соединений.
- **CoreImage**: Для генерации QR-кодов.
- **Security**: Для работы с Keychain.
- **ServiceManagement**: Для настройки автозапуска.
- **UserNotifications**: Для системных уведомлений.
- **Charts**: Для отображения графиков скорости.

## Структура проекта

- **AboutView.swift**: Отображение информации о приложении (версия, автор, лицензия).
- **ButtonStyles.swift**: Определение пользовательских стилей для кнопок (например, `PrimaryButtonStyle` и `SecondaryButtonStyle`).
- **ContentView.swift**: Главное представление приложения, объединяющее все компоненты интерфейса.
- **ControlButtonsView.swift**: Управляющие кнопки для запуска, остановки, перезапуска и тестирования серверов.
- **ImportExportView.swift**: Интерфейс для импорта и экспорта конфигураций серверов.
- **Info.plist**: Файл конфигурации приложения для macOS (настройки, разрешения).
- **InfoPlist.strings**: Локализованные строки для `Info.plist`.
- **Keychain.swift**: Управление безопасным хранением паролей в Keychain.
- **KeychainError.swift**: Определение ошибок, связанных с доступом к Keychain.
- **LogView.swift**: Просмотр логов приложения для диагностики.
- **PreferencesView.swift**: Настройки приложения (тема, автозапуск, режим прокси).
- **QRCodeGeneratorView.swift**: Генерация QR-кодов для конфигураций серверов.
- **SecondaryButtonsView.swift**: Второстепенные кнопки для доступа к настройкам, логам и другим функциям.
- **ServerEditView.swift**: Интерфейс для редактирования параметров сервера.
- **ServerManagementView.swift**: Управление списком серверов (добавление, удаление, выбор).
- **ServerRowView.swift**: Отображение информации о сервере и индикатор пинга.
- **ServersDocument.swift**: Импорт и экспорт конфигураций серверов в формате JSON.
- **ShadowSocksManager.entitlements**: Файл разрешений для macOS (например, доступ к Keychain).
- **ShadowSocksManagerApp.swift**: Точка входа приложения и делегат для управления жизненным циклом.
- **ShadowsocksManager.swift**: Основной класс для управления состоянием Shadowsocks (подключение, тестирование, конфигурации).
- **ShadowsocksServer.swift**: Модель данных для серверов Shadowsocks (адрес, порт, пароль, метод шифрования).
- **StatusView.swift**: Отображение статуса подключения и метрик трафика.
- **SubscriptionImportView.swift**: Интерфейс для импорта серверов через подписку (URL).

## Лицензия

Проект распространяется под лицензией MIT. Подробности см. в файле `LICENSE`.

## Контакты

- **GitHub**: [KnowerLife](https://github.com/KnowerLife)
- **Репозиторий**: [github.com/KnowerLife/shadowsocksmanager](https://github.com/KnowerLife/shadowsocksmanager)

## Благодарности

Спасибо сообществу Shadowsocks и разработчикам SwiftUI за мощные инструменты для создания современных приложений.

---

© 2025 KNOWER LIFE
